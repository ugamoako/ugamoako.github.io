
<head>
    <title>Report</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="c3.css">
    <link rel="stylesheet" href="bootstrap-datetimepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.9/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!--script(src='/javascripts/data.js')--><!--script(src='/javascripts/datatwo.js')-->
    <script src="script.js"></script>
    <script src="c3.js"></script>
    <script src="moment-with-locales.js"></script>
    <script src="bootstrap-datetimepicker.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
<body data-gr-c-s-loaded="true">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false" class="navbar-toggle collapsed">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a href="#" class="navbar-brand">Pythia</a>
                    </div>
                    <div id="myNavbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="active">
                            <a href="/" style="background-color:#1f77b4">Home</a>
                            </li>
                            <li class="dropdown"><a data-toggle="dropdown" href="#" class="dropdown-toggle">Filter<span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Sort </a></li>
                                    </ul>
                            </li>
                            <li><a href="/summary">Table </a></li>
                            <li><a href="/report">Report</a></li>
                            </ul>
                            <ul class="nav navbar-nav navbar-right">
                                <li><input id="filter" type="text" placeholder="Search"><i id="filtersubmit" class="fa fa-search"></i></li><li><a href="#"><span class="glyphicon glyphicon-user">Sign Up</span></a></li><li><a href="#"><span class="glyphicon glyphicon-log-in">Login</span></a></li></ul></div></div></nav><div style="padding:10px 0 0 0" class="container"><div class="col-lg-1 col-md-1 col-sm-1"><div class="filter">Filter</div></div><div class="col-lg-3 col-md-3 col-sm-4"> <div class="form-group"><div id="datetimepicker1" class="input-group date"><input type="text" class="form-control"><span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div></div></div><div class="col-lg-3 col-md-3 col-sm-4"> <div class="form-group"><div id="datetimepicker2" class="input-group date"><input type="text" class="form-control"><span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div></div></div><div class="col-lg-3 col-md-3 col-sm-4"> <div class="form-group"><div class="input-group"><input id="submittext" type="text" placeholder="Enter a Phrase" class="form-control"><span class="input-group-addon"><span id="submitfilt" class="glyphicon glyphicon-search"></span></span></div></div></div><div class="col-lg-2 col-md-2 col-sm-4"></div><div class="form-group"><div class="input-group"><select id="selectcat" style="width:70px; padding:6px" class="form-control"><option value="1">At most</option><option value="2">At least</option><option value="3">top</option><option value="4">equal</option><!--option(value='5') between--></select><input id="fiterByNumber" type="number" value="20" style="width:60px; padding:6px" class="form-control"><!--input#fiterByNumber2.form-control(type='number' value='20' style='width:60px; padding:6px;')--><!--span.input-group-addonspan#submitfil.glyphicon.glyphicon-search            --></div></div></div><div class="container"><div class="col-lg-12"></div>
                                
                                <h1>Report on Pythia Data Visualization</h1>
                                <div class="col-lg-12"></div>
                                <h2> Quick Overview</h2>
                                <p> It is an interactive software that analyze audio voice speech into a prophetic message. This was designed to mimic the the ancient Greece Goddess of Apollo.</p>
                                <p> According to the Applications website:</p>
                                <p> “Pythia is an interactive sonic sculpture, analyzing the audience’s speech and interpreting it into absurd or perhaps prophetic messages, the so-called divine glitch.”</p>

                                <h2>Introduction:</h2>
                                <p>We gathered data from an interactive installation called Pythia through google speech api. The Pythia system represent the ancient priestess who was said to channel prophesies from Apollo to its attendants and also pronounce judgement.</p>
                                <p>The task at hand is to visualize the text data for easy analysis and interpretation of the data. The goal is to find out the most common phrases used by attendees to the oracle. </p>
                                     
                                     <h3>Technologies:</h3>
                                     <ul><li>Nodejs</li>
                                     <li>Express framework</li>
                                     <li>Anaconda Notebook</li>
                                     <li>D3 js</li>
                                     <li>HTML</li>
                                     </ul>
                                     
                                     <h3> Dataset Description:</h3>
                                    <p> The dataset was a csv file with 7 columns (Number of Records (bin); Number of Records; Client; Id; Lang; Text; Time) and 161533 rows.  Our target aim allows us to select only the “text” and “Time” fields from the dataset.</p> 
                                    <p> Jupyter Notebook was used in conjunction with pandas’ library in python to remove invalid fields and erroneous records from the dataset.  After the cleaning of the data, the data was group according to month thus: from January to December and an additional field was created called “count” to take into accounts how each phrase appears in the dataset per month.</p>
                                    <p> The year and days parts of the date was striped since we are only interested in grouping the data according to phrase count and months and also the all fall under one year (2015).</p>

                                     <h3> Data Visualization:</h3>
                                     <p>This is a quick look at how the data is distributed across the various months in the year.</p>
                                    <div id="chart"></div>
                                    <p> D3.js Library was the chosen data visualization tool for our project.</p>
                                    <p> All the data was displayed at once with the maximum count of 20 appearances.</p>
                                    <p> The data was clustered according to months to add more understanding and beauty to the data.</p>
                                    <p> Svg circles are drawn and the radius of the circle is the size the number of count on that phrase. This implies that, larger circles indicate larger counts and vice versa labeled with the phrase text.</p>
                                    <p> Our data was widely varied, so to have a better look we normalized it by applying logarithm fucntion to the count column.</p>
                                    <p>The chart below shows the top 10 phrases in the dataset</p>
                                    <div id="chart2"></div>
                                         <h3>The Website:</h3>
                                         <p>The website is just a simple site with navigation bar which has the key to the graph, 
                                         summarized analysis of the data and a brief report on the project. D3.js library version 3 
                                         was used to create the visualization chart on the website and it runs on node js server.
                                         </p>
                        </div>
<script type="text/javascript">
var chart = c3.generate({
        bindto:"#chart",
        data: {
            columns: [
                ['data1', 30],
                ['data2', 120],
            ],
            type : 'donut',
            //onclick: function (d, i) { console.log("onclick", d, i); },
            //onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            //onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        donut: {
            title: "Phrase Frequency in Months"
        }
        });
        setTimeout(function () {
        chart.load({
            columns: [
                ["Jan", 3282],
                ["Feb", 2689],
                ["Mar", 10124],
                ["Apr", 10169],
                ["May", 8926],
                ["Jun", 11014],
                ["Jul", 6149],
                ["Aug", 4450],
                ["Oct", 52359],
                ["Nov", 50033],
                ["Dec", 2337]
            ]
        });
        }, 1500);

        setTimeout(function () {
            chart.unload({
                ids: 'data1'
            });
            chart.unload({
                ids: 'data2'
            });
        }, 2500);

        var chart2 = c3.generate({
        bindto: '#chart2',
        data: {
            columns: [
                ['data1', 30],
                ['data2', 120],
            ],
            type : 'bar',
            //onclick: function (d, i) { console.log("onclick", d, i); },
            //onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            //onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        bar: {
            title: "Phrase Frequency in Months"
        }
        });
        setTimeout(function () {
        chart2.load({
            columns: [
               ['привет', 2869],
                    ['я', 1091],
                    ['люблю', 615],
                    ['как дела', 585],
                    ['любовь', 577],
                    ['нет', 477],
                    ['алло', 457],
                    ['что', 411],
                    ['я люблю', 398],
                    ['как', 386]
            ]
        });
        }, 1500);

        setTimeout(function () {
            chart2.unload({
                ids: 'data1'
            });
            chart2.unload({
                ids: 'data2'
            });
        }, 2500);
</script>
</body>